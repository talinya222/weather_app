(()=>{"use strict";let e=!0,t=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}n.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},n=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};let o=!1;setTimeout((()=>{if(o){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let r="98a6dfc4cfd0678e6de2a9776e4559f9";document.querySelector(".wrapper")&&navigator.geolocation.getCurrentPosition((function(e){let t=`https://api.openweathermap.org/data/2.5/weather?lat=${e.coords.latitude}&lon=${e.coords.longitude}&appid=${r}&units=metric`;axios.get(t).then(a)})),window.addEventListener("load",(function(){document.body.insertAdjacentHTML("afterbegin",'\t<div class="preloader">\n\t\t\t\t<div class="preloader__row">\n\t\t\t\t\t<div class="preloader__item"></div>\n\t\t\t\t\t<div class="preloader__item"></div>\n\t\t\t\t</div>\n\t\t\t</div>');let e=document.querySelector(".preloader");e.classList.add("loaded_hiding"),setTimeout((function(){document.documentElement.classList.add("loaded"),e.classList.remove("loaded_hiding")}),3e3)}));let i=document.querySelector(".form-header__input");function a(e){console.log(e),document.querySelector(".header__current-town").innerHTML=e.data.name,document.querySelector(".main-block__text").innerHTML=e.data.weather[0].description;let t=e.data.main.temp,n=e.data.main.feels_like;c.innerHTML=Math.round(t),l.innerHTML=Math.round(n);let o=document.querySelector("._icon-sunrise"),i=e.data.sys.sunrise;var a=new Date(1e3*i);let d=a.getHours()+":"+("0"+a.getMinutes()).substr(-2);o.innerHTML=`sunrise ${d}`;let u=document.querySelector("._icon-sunset"),s=e.data.sys.sunset;var m=new Date(1e3*s);let p=m.getHours()+":"+("0"+m.getMinutes()).substr(-2);u.innerHTML=`sunset ${p}`,document.querySelector("._icon-humidity").innerHTML=`humidity ${e.data.main.humidity}%`,document.querySelector("._icon-wind").innerHTML=`${Math.round(e.data.wind.speed)} m/s`;document.querySelector("._icon-wind-direction").innerHTML=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][(e.data.wind.deg/22.5).toFixed(0)],document.querySelector("._icon-pressure").innerHTML=`${e.data.main.pressure} hPa`,function(e){console.log(e);let t=`https://api.openweathermap.org/data/2.5/onecall?lat=${e.lat}&lon=${e.lon}&appid=${r}&units=metric`;axios.get(t).then(y)}(e.data.coord)}document.querySelector(".form-header__search-button").addEventListener("click",(function(e){e.preventDefault();let t=`https://api.openweathermap.org/data/2.5/weather?q=${i.value}&appid=${r}&units=metric`;axios.get(t).then(a);let n=i.value.charAt(0).toUpperCase()+i.value.slice(1);document.querySelector(".header__current-town").innerHTML=n,i.value=""}),a);let d=document.querySelector(".main-block__actual-temperature"),c=document.querySelector(".main-block__temp-value"),l=document.querySelector(".main-block__temp-feels");document.addEventListener("click",(function(e){e.target.closest("button.main-block__fahrenheit")?(c.innerHTML=Math.round(1.8*c.innerHTML+32),l.innerHTML=Math.round(1.8*l.innerHTML+32),d.classList.add("_temp"),e.preventDefault()):e.target.closest("button.main-block__celsium")&&(c.innerHTML=Math.round((c.innerHTML-32)/1.8),l.innerHTML=Math.round((l.innerHTML-32)/1.8),d.classList.remove("_temp"),e.preventDefault())}));const u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let s=new Date;const m=document.querySelector(".main-block__current-date"),p=document.querySelector(".main-block__current-weekday");function y(e){let t=e.data.daily,n=document.querySelector(".footer__body"),o='<div class="footer__items">';t.forEach((function(e,t){t<7&&t>0&&(o+=`\n\t\t\t\t<article class="footer__item item-footer">\n\t\t\t\t\t<a href="" class="item-footer__image-ibg"><img src="http://openweathermap.org/img/wn/${e.weather[0].icon}.png" alt="${e.weather[0].main}"></a>\n\t\t\t\t\t<div class="item-footer__temperature">${Math.round(e.temp.max)}&deg;</div>\n\t\t\t\t\t<div class="item-footer__weekday">${function(e){let t=new Date(1e3*e).getDay();return u[t]}(e.dt)}</div>\n\t\t\t\t</article>\n\t\t`)})),o+="</div>",n.innerHTML=o}m.innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate(),p.innerHTML=u[s.getDay()];let h,g=p.innerHTML;window.addEventListener("resize",(function(){innerWidth<960?(h=`${u[s.getDay()]},`,p.innerHTML=h):p.innerHTML=g})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(o){e&&o.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?t(e):n(e)})(),document.documentElement.classList.toggle("menu-open"))}))})();