(()=>{"use strict";let e=!0,t=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}n.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},n=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};let o=!1;setTimeout((()=>{if(o){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let i="98a6dfc4cfd0678e6de2a9776e4559f9";document.querySelector(".wrapper")&&navigator.geolocation.getCurrentPosition((function(e){let t=`https://api.openweathermap.org/data/2.5/weather?lat=${e.coords.latitude}&lon=${e.coords.longitude}&appid=${i}&units=metric`;axios.get(t).then(d)})),window.addEventListener("load",(function(){document.body.insertAdjacentHTML("afterbegin",'\t<div class="preloader">\n\t\t\t\t<div class="preloader__row">\n\t\t\t\t\t<div class="preloader__item"></div>\n\t\t\t\t\t<div class="preloader__item"></div>\n\t\t\t\t</div>\n\t\t\t</div>');let e=document.querySelector(".preloader");e.classList.add("loaded_hiding"),setTimeout((function(){document.documentElement.classList.add("loaded"),e.classList.remove("loaded_hiding")}),3e3)}));let r=document.querySelector(".form-header__input");function d(e){console.log(e),document.querySelector(".header__current-town").innerHTML=e.data.name,document.querySelector(".main-block__text").innerHTML=e.data.weather[0].description;let t=e.data.main.temp,n=e.data.main.feels_like;l.innerHTML=Math.round(t),c.innerHTML=Math.round(n);let o=document.querySelector("._icon-sunrise"),i=e.data.sys.sunrise;var r=new Date(1e3*i);let d=r.getHours()+":"+("0"+r.getMinutes()).substr(-2);o.innerHTML=`sunrise ${d}`;let a=document.querySelector("._icon-sunset"),u=e.data.sys.sunset;var s=new Date(1e3*u);let m=s.getHours()+":"+("0"+s.getMinutes()).substr(-2);a.innerHTML=`sunset ${m}`,document.querySelector("._icon-humidity").innerHTML=`humidity ${e.data.main.humidity}%`,document.querySelector("._icon-wind").innerHTML=`${Math.round(e.data.wind.speed)} m/s`;document.querySelector("._icon-wind-direction").innerHTML=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][(e.data.wind.deg/22.5).toFixed(0)],document.querySelector("._icon-pressure").innerHTML=`${e.data.main.pressure} hPa`}document.querySelector(".form-header__search-button").addEventListener("click",(function(e){e.preventDefault();let t=`https://api.openweathermap.org/data/2.5/weather?q=${r.value}&appid=${i}&units=metric`;axios.get(t).then(d);let n=r.value.charAt(0).toUpperCase()+r.value.slice(1);document.querySelector(".header__current-town").innerHTML=n,r.value=""}),d);let a=document.querySelector(".main-block__actual-temperature"),l=document.querySelector(".main-block__temp-value"),c=document.querySelector(".main-block__temp-feels");document.addEventListener("click",(function(e){e.target.closest("button.main-block__fahrenheit")?(l.innerHTML=Math.round(1.8*l.innerHTML+32),c.innerHTML=Math.round(1.8*c.innerHTML+32),a.classList.add("_temp"),e.preventDefault()):e.target.closest("button.main-block__celsium")&&(l.innerHTML=Math.round((l.innerHTML-32)/1.8),c.innerHTML=Math.round((c.innerHTML-32)/1.8),a.classList.remove("_temp"),e.preventDefault())}));const u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let s=new Date;const m=document.querySelector(".main-block__current-date"),y=document.querySelector(".main-block__current-weekday");m.innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate(),y.innerHTML=u[s.getDay()];let p=document.querySelectorAll(".item-footer__weekday");if(p)for(let w=0;w<u.length;w++){let f,S=u[s.getDay()-w];function _(){innerWidth<=960?(f=u[s.getDay()-w].slice(0,3),p[w].innerHTML=f):p[w].innerHTML=S}window.addEventListener("resize",_)}let h=document.querySelectorAll(".item-footer");if(h){function M(){innerWidth<=767.98?(h[0].style.display="none",h[1].style.display="none"):(h[0].style.display="block",h[1].style.display="block")}function v(){innerWidth<=479.98?(h[2].style.display="none",h[3].style.display="none"):(h[2].style.display="block",h[3].style.display="block")}window.addEventListener("resize",M),window.addEventListener("resize",v)}let L,g=y.innerHTML;window.addEventListener("resize",(function(){innerWidth<960?(L=`${u[s.getDay()]},`,y.innerHTML=L):y.innerHTML=g})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(o){e&&o.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?t(e):n(e)})(),document.documentElement.classList.toggle("menu-open"))}))})();